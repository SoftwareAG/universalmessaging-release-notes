                   Universal Messaging webMethods RealmServer 10.15 SP0 Fix 3 Readme
               
                                  February 2023

________________________________________________________________________________

This file provides important information for applying Universal Messaging RealmServer 10.15 SP0 Fix 
3 to Universal Messaging 10.15 SP0 installations. For additional information about Universal 
Messaging, see the index.html file in the docs directory of your installation. 


Contents:

1.0   Fix Name
2.0   Fix ID
3.0   Product(s)/Component(s) Affected
4.0   Requirements
5.0   Platform Support
6.0   Cautions and Warnings 
7.0   Fix Contents
8.0   Installation
9.0   Uninstallation
10.0  Globalization 
11.0  Copyright
12.0  Contacting Us



1.0 Fix Name

Universal Messaging webMethods RealmServer 10.15 SP0 Fix 3



2.0 Fix ID

NUM_10.15_wM_RealmServer_Fix3



3.0 Product(s)/Component(s) Affected

Universal Messaging webMethods RealmServer 10.15 SP0



4.0 Requirements

None.



5.0 Platform Support

Same platforms as product release.



6.0 Cautions and Warnings

It is strongly advisable that the Universal Messaging client libraries
are patched together with the realm server binaries, and that both are kept
up to date with latest Universal Messaging official fix set.


7.0 Fix Contents

In addition to including resolutions to product defects, a fix may also include
enhancements to existing functionality and features. Any of these items can 
result in new or changed built-in services, APIs, or configuration parameters. 
Review the fix contents carefully before applying the fix.
 	
This fix is cumulative, which means that it is an aggregate of previous fixes 
for the release.

NUM-19017 (NUM_10.15_wM_RealmServer_Fix3)

When you use Software AG Installer to create a Universal Messaging Docker image, the JMX agent port 
does not have a default value. This leads to an incorrect entry  being set in the Universal 
Messaging server configuration file. As a result, the Universal Messaging server fails to start and 
the container exits immediately. 
This issue is now resolved.

NUM-18559 (NUM_10.15_wM_RealmServer_Fix3)

After a restart of the master node in a cluster, Universal Messaging might not delete .mem files for 
a channel on a slave node after all events are acknowledged.
Universal Messaging might not delete the .mem files for a multi-file store channel on a slave node 
in a cluster even after all events have been acknowledged. The issue occurs when the channel uses a 
JMS engine and after you edit a storage property for the channel and restart the master node.
The issue is resolved.

NUM-18425 (NUM_10.15_wM_RealmServer_Fix3)

Creating a durable on the JMX server fails with a MalformedObjectNameException.
When you have enabled the JMX server and try to create a durable on a channel, Universal Messaging 
writes a MalformedObjectNameException in the nirvana.log file. The durable gets created on the 
Universal Messaging server, but not on the JMX server. The issue occurs because the JMX beans and 
attributes cannot validate a durable name containing special characters.
The issue is now resolved.

NUM-18339 (NUM_10.15_wM_RealmServer_Fix3)

A Universal Messaging Java client fails to connect to the server when the hostname of the server or 
of the machine that hosts the server contains special characters, such as an underscore.
The issue occurs because the Java URI API does not support special characters in hostnames.
The issue is resolved.

NUM-17944 (NUM_10.15_wM_RealmServer_Fix3)

The creation of search rules happens after the escaped characters are identified and marked as such. 
Now it is possible to escape the '%' character because it is not used for splitting the input 
string early in the process anymore and it can be treated as a normal character.

NUM-17909 (NUM_10.15_wM_RealmServer_Fix3)

A Universal Messaging realm server logs errors about insufficient disk space even when the free disk 
space is sufficient.
The server logs an error into the nirvana.log file that "Free disk space has reduced below warning 
threshold percentage."
The issue is resolved. Now the server logs an error message only when the free disk space required 
for the realm server to continue processing is below the defined minimum threshold.

NUM-17708 (NUM_10.15_wM_RealmServer_Fix3)

Pre-10.7 synchronous clients are not able to retrieve events from a standard, non-durable queue on a 
slave node in a cluster.
The fix for this issue will ensure that window sizes are handled properly for older, pre-10.7 
synchronous clients, while post-10.7 synchronous clients will use the new prefetch API instead.

NUM-18913 (NUM_10.15_wM_RealmServer_Fix2)

The Docker image for the Universal Messaging server now supports the log4j2 framework for logging 
and provides a default log4j2 configuration. The default log4j2 configuration does NOT store the 
nirvana.log log file on disk but streams the log output to STDOUT.
You can configure the UM the server logging level, by using the UM Admin API or Enterprise Manager 
after you enable the Log4j2 logging framework for the container.
For more details about log4j2 support in Docker images for Universal Messaging, see the Universal 
Messaging documentation.

NUM-18668 (NUM_10.15_wM_RealmServer_Fix2)

When you enable the ThreadDumpOnSlowTask thread-pool monitoring property, Universal Messaging might 
generate many thread dumps over a short time, which could slow performance.
The issue is resolved.

NUM-18421 (NUM_10.15_wM_RealmServer_Fix2)

Universal Messaging might log thread dumps twice in nirvana.log.
When a stalled or slow moving task is detected, or a thread dump is requested, it might be logged 
twice in nirvana.log which is unnecessary.
The issue is resolved.

NUM-18890 (NUM_10.15_wM_RealmServer_Fix2)

In UM Docker images created via the SAG Installer the logs directory is not present by default in 
the installation and gets created when a container is run. This sets directory's owner to root, 
which makes it inaccessible to the UM server in the container, as it runs as "sagadmin".
This issue is now resolved.

NUM-17222 (NUM_10.15_wM_RealmServer_Fix1)



8.0 Installation

If you are installing a Universal Messaging server fix, please shut down any running Universal
Messaging server instances before installing.
In case the Universal Messaging server instance is a member of a cluster, please apply the
procedure for installing rolling cluster updates described below(*).

If you are installing a Universal Messaging client fix, please shut down any applications such as
Integration server or Enterprise Manager which are using client libraries.

If you are installing a Universal Messaging Enterprise Manager fix, you do not need to shut down the
Universal Messaging server.

Install using the Software AG Update Manager or Command Central (9.5 or later). For instructions,
see the corresponding documentation at http://documentation.softwareag.com.

(*) Universal Messaging cluster is supporting rolling updates for its nodes.
There is a strong recommendation to start applying the new fixes on the Slave nodes and leave the
Master node to be the last one.

For each single node that is part of the cluster the customer needs to follow the steps:
1) Shutdown the node. The node will be disconnected from the cluster.
2) Apply the specific fix
3) Start the node. It will be connected back again to the cluster and will be operational
4) Apply the same procedure from 1-3 steps on the next node

In order to have truly no downtime, the client that talks to the Universal Messaging cluster should
also be implemented in a way that it tolerates brief connection loss. A rolling update in a cluster
still means that:
a) When the node that a client is connected to is brought down for maintenance, the connection to
this server, and respectively the cluster, will be lost and has to be re-established. The client
should be able to handle this seamlessly.
b) When the master node of the cluster is brought down for maintenance, the cluster will briefly
go offline until a new master is elected. This is usually a very short time window, but still,
similarly to point a). The client applications should be able to handle it in order to have truly
no downtime from the point of view of the end user.



9.0 Uninstallation

If you are uninstalling a Universal Messaging server fix,
please note that any running Universal Messaging server
instances will be automatically shutdown before installing.

If you are uninstalling a Universal Messaging client fix, 
please shut down any applications such as Integration Server 
or Enterprise Manager which are using client libraries.

If you are uninstalling a Universal Messaging Enterprise Manager 
fix, you do not need to shut down the Universal Messaging server.

Uninstall using the Software AG Update Manager or 
Command Central (9.5 or later). For instructions, see the 
corresponding documentation 
at http://documentation.softwareag.com.

Note: These instructions can only be used to uninstall the 
most recently installed fix. This action will revert your 
installation to the previously installed fix. You cannot 
apply these instructions to the previously installed fix.



10.0 Globalization

This fix conforms to the internationalization standards of the webMethods 
product suite and includes support for operation in any country, locale, or 
language as specified in the Installing webMethods Products guide. It was not 
tested with non-English configurations and non-ASCII data. However, this fix has
no globalization impact and can be applied to systems running in any supported 
locale or configuration.



10.1 Localization

This fix does not require an updated Language Pack. It might contain new 
messages and these messages will appear in English.



11.0 Copyright

Copyright (c) 2023 Software AG, Darmstadt, Germany and/or Software AG USA Inc., 
Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their 
licensors.

The name Software AG and all Software AG product names are either trademarks or 
registered trademarks of Software AG and/or Software AG USA Inc. and/or its 
subsidiaries and/or its affiliates and/or their licensors. Other company and 
product names mentioned herein may be trademarks of their respective owners.

Detailed information on trademarks and patents owned by Software AG and/or its 
subsidiaries is located at http://softwareag.com/licenses.

This software may include portions of third-party products. For third-party 
copyright notices, license terms, additional rights or restrictions, please 
refer to "License Texts, Copyright Notices and Disclaimers of Third Party 
Products". For certain specific third-party license restrictions, please refer 
to section E of the Legal Notices available under "License Terms and Conditions 
for Use of Software AG Products / Copyright and Trademark Notices of Software AG
Products". These documents are part of the product documentation, located at 
http://softwareag.com/licenses and/or in the root installation directory of the 
licensed product(s).



12.0 Contacting Us

Authorized technical support contacts can reach Software AG Global Support in
the following ways:

  Web: https://empower.softwareag.com (online support center)
  
  E-mail: empower@softwareag.com
  
You can find complete contact information in our Global Support Contact 
Directory at:

https://empower.softwareag.com/public_directory.asp

You can also visit our Software AG Developer Communities to access additional 
articles, demos, and tutorials, technical information, samples, useful resources,
online discussion forums moderated by Software AG professionals, and more at:

http://communities.softwareag.com/ecosystem/communities/public/index.html